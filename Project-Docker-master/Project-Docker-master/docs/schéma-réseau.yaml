# Schéma réseau avec Rraserr Diagrams
diagram:
  title: Docker Network Topology
  theme: simple

nodes:
  - id: web
    label: "nginx\nPorts: 8080, 8443"
    shape: rectangle
    color: "#007acc"
  - id: wordpress
    label: "wordpress\nPort: 80"
    shape: rectangle
    color: "#007acc"
  - id: db
    label: "db\nPort: 3306"
    shape: rectangle
    color: "#00a86b"
  - id: prometheus
    label: "prometheus\nPort: 9090"
    shape: rectangle
    color: "#ffb703"
  - id: grafana
    label: "grafana\nPort: 3000"
    shape: rectangle
    color: "#fb8500"

groups:
  - id: backend
    label: "backend network"
    members: [web, wordpress, db]
    color: "#cce5ff"
  - id: monitoring
    label: "monitoring network"
    members: [web, wordpress, prometheus, grafana]
    color: "#e6ffe6"

edges:
  - from: web
    to: wordpress
    label: "depends_on"
  - from: wordpress
    to: db
    label: "uses"
  - from: wordpress
    to: prometheus
    label: "monitored by"
  - from: prometheus
    to: grafana
    label: "visualized in"

